import React, {useState} from 'react'
import {useDispatch, useSelector} from 'react-redux'
import {Redirect} from 'react-router-dom'
import Emoji from './Emoji'
import {MdSentimentSatisfied} from "react-icons/md"
import {IoIosArrowDown, IoIosArrowUp} from "react-icons/io"
import {postTweet} from '../redux-store-2.0/api/tweets'
import {getAuthedUserId} from '../redux-store-2.0/session/selectors'

const emoji = [
    'ðŸ˜€','ðŸ˜','ðŸ˜‚','ðŸ¤£','ðŸ˜ƒ','ðŸ˜„','ðŸ˜…','ðŸ˜†','ðŸ˜‰','ðŸ˜Š','ðŸ˜‹','ðŸ˜Ž','ðŸ˜','ðŸ˜˜','ðŸ¥°',
    'ðŸ˜—','ðŸ˜™','ðŸ˜š','ðŸ™‚','ðŸ¤—','ðŸ¤©','ðŸ¤”','ðŸ¤¨','ðŸ˜','ðŸ˜‘','ðŸ˜¶','ðŸ™„','ðŸ˜','ðŸ˜£','ðŸ˜¥',
    'ðŸ˜®','ðŸ¤','ðŸ˜¯','ðŸ˜ª','ðŸ˜«','ðŸ˜´','ðŸ˜Œ','ðŸ˜›','ðŸ˜œ','ðŸ˜','ðŸ¤¤','ðŸ˜’','ðŸ˜“','ðŸ˜”','ðŸ˜•','ðŸ™ƒ',
    'ðŸ¤‘','ðŸ˜²','â˜¹ï¸','ðŸ™','ðŸ˜–','ðŸ˜ž','ðŸ˜Ÿ','ðŸ˜¤','ðŸ˜¢','ðŸ˜­','ðŸ˜¦','ðŸ˜§','ðŸ˜¨','ðŸ˜©','ðŸ¤¯','ðŸ˜¬',
    'ðŸ˜°','ðŸ˜±','ðŸ¥µ','ðŸ¥¶','ðŸ˜³','ðŸ¤ª','ðŸ˜µ','ðŸ˜¡','ðŸ˜ ','ðŸ¤¬','ðŸ˜·','ðŸ¤’','ðŸ¤•','ðŸ¤¢','ðŸ¤®','ðŸ¤§',
    'ðŸ˜‡','ðŸ¤ ','ðŸ¤¡','ðŸ¥³','ðŸ¥´','ðŸ¥º','ðŸ¤¥','ðŸ¤«','ðŸ¤­','ðŸ§','ðŸ¤“','ðŸ˜ˆ','ðŸ‘¿','ðŸ‘¹','ðŸ‘º','ðŸ’€',
    'ðŸ‘»','ðŸ‘½','ðŸ¤–','ðŸ’©','ðŸ˜º','ðŸ˜¸','ðŸ˜¹','ðŸ˜»','ðŸ˜¼','ðŸ˜½','ðŸ™€','ðŸ˜¿','ðŸ˜¾', 'ðŸ¤²','ðŸ‘','ðŸ™Œ',
    'ðŸ‘','ðŸ¤','ðŸ‘','ðŸ‘Ž','ðŸ‘Š','âœŠ','ðŸ¤›','ðŸ¤œ','ðŸ¤ž','âœŒï¸','ðŸ¤Ÿ','ðŸ¤˜','ðŸ‘Œ','ðŸ‘ˆ','ðŸ‘‰','ðŸ‘†','ðŸ‘‡',
    'â˜ï¸','âœ‹','ðŸ¤š','ðŸ–','ðŸ––','ðŸ‘‹','ðŸ¤™','ðŸ’ª','ðŸ¦µ','ðŸ¦¶','ðŸ–•','âœï¸','ðŸ™', 'ðŸ¶','ðŸ±','ðŸ­','ðŸ¹',
    'ðŸ°','ðŸ¦Š','ðŸ¦','ðŸ»','ðŸ¼','ðŸ¦˜','ðŸ¦¡','ðŸ¨','ðŸ¯','ðŸ¦','ðŸ®','ðŸ·','ðŸ½','ðŸ¸','ðŸµ','ðŸ™ˆ',
    'ðŸ™‰','ðŸ™Š','ðŸ’','ðŸ”','ðŸ§','ðŸ¦','ðŸ¤','ðŸ£','ðŸ¥','ðŸ¦†','ðŸ¦¢','ðŸ¦…','ðŸ¦‰','ðŸ¦š','ðŸ¦œ','ðŸ¦‡',
    'ðŸº','ðŸ—','ðŸ´','ðŸ¦„','ðŸ','ðŸ›','ðŸ¦‹','ðŸŒ','ðŸš','ðŸž','ðŸœ','ðŸ¦—','ðŸ¦‚','ðŸ¦Ÿ',
    'ðŸ¦ ','ðŸ¢','ðŸ','ðŸ¦Ž','ðŸ¦–','ðŸ¦•','ðŸ™','ðŸ¦‘','ðŸ¦','ðŸ¦€','ðŸ¡','ðŸ ','ðŸŸ','ðŸ¬','ðŸ³','ðŸ‹',
    'ðŸ¦ˆ','ðŸŠ','ðŸ…','ðŸ†','ðŸ¦“','ðŸ¦','ðŸ˜','ðŸ¦','ðŸ¦›','ðŸª','ðŸ«','ðŸ¦™','ðŸ¦’','ðŸƒ','ðŸ‚','ðŸ„',
    'ðŸŽ','ðŸ–','ðŸ','ðŸ‘','ðŸ','ðŸ¦Œ','ðŸ•','ðŸ©','ðŸˆ','ðŸ“','ðŸ¦ƒ','ðŸ‡','ðŸ','ðŸ€',
    'ðŸ¦”','ðŸ¾','ðŸ‰','ðŸ²','ðŸŒµ','ðŸŽ„','ðŸŒ²','ðŸŒ³','ðŸŒ´','ðŸŒ±','ðŸŒ¿','â˜˜ï¸','ðŸ€','ðŸŽ','ðŸŽ‹','ðŸƒ',
    'ðŸ‚','ðŸ','ðŸ„','ðŸŒ¾','ðŸ’','ðŸŒ·','ðŸŒ¹','ðŸ¥€','ðŸŒº','ðŸŒ¸','ðŸŒ¼','ðŸŒ»','ðŸŒž','ðŸŒ','ðŸŒ›','ðŸŒœ','ðŸŒš',
    'ðŸŒ•','ðŸŒ–','ðŸŒ—','ðŸŒ˜','ðŸŒ‘','ðŸŒ’','ðŸŒ“','ðŸŒ”','ðŸŒ™','ðŸŒŽ','ðŸŒ','ðŸŒ','ðŸ’«','â­ï¸','ðŸŒŸ','âœ¨','âš¡ï¸',
    'â˜„ï¸','ðŸ’¥','ðŸ”¥','ðŸŒˆ','â˜€ï¸','â›…ï¸','â˜ï¸','â„ï¸','â˜ƒï¸','â›„ï¸','ðŸ’¨','ðŸ’§','ðŸ’¦','â˜”ï¸','â˜‚ï¸','ðŸŒŠ',
    'ðŸ','ðŸŽ','ðŸ','ðŸŠ','ðŸ‹','ðŸŒ','ðŸ‰','ðŸ‡','ðŸ“',
    'ðŸˆ','ðŸ’','ðŸ‘','ðŸ','ðŸ¥­','ðŸ¥¥','ðŸ¥','ðŸ…','ðŸ†','ðŸ¥‘','ðŸ¥¦','ðŸ¥’','ðŸ¥¬','ðŸŒ½','ðŸ¥•','ðŸ¥”',
    'ðŸ ','ðŸ¥','ðŸž','ðŸ¥–','ðŸ¥¨','ðŸ¥¯','ðŸ§€','ðŸ¥š','ðŸ³','ðŸ¥ž','ðŸ¥“','ðŸ¥©','ðŸ—','ðŸ–','ðŸŒ­','ðŸ”','ðŸŸ',
    'ðŸ•','ðŸ¥ª','ðŸ¥™','ðŸŒ®','ðŸŒ¯','ðŸ¥—','ðŸ¥˜','ðŸ¥«','ðŸ','ðŸœ','ðŸ²','ðŸ›','ðŸ£','ðŸ±','ðŸ¥Ÿ','ðŸ¤','ðŸ™',
    'ðŸš','ðŸ˜','ðŸ¥','ðŸ¥®','ðŸ¥ ','ðŸ¢','ðŸ¡','ðŸ§','ðŸ¨','ðŸ¦','ðŸ¥§','ðŸ°','ðŸŽ‚','ðŸ®','ðŸ­','ðŸ¬','ðŸ«',
    'ðŸ¿','ðŸ§‚','ðŸ©','ðŸª','ðŸŒ°','ðŸ¥œ','ðŸ¯','ðŸ¥›','ðŸ¼','â˜•ï¸','ðŸµ','ðŸ¥¤','ðŸ¶','ðŸº','ðŸ»','ðŸ¥‚','ðŸ·','ðŸ¥ƒ',
    'ðŸ¸','ðŸ¹','ðŸ¾','ðŸ¥„','ðŸ´','ðŸ¥£','ðŸ¥¡','ðŸ¥¢','âŒšï¸','ðŸ“±','ðŸ“²','ðŸ’»','âŒ¨ï¸',
    'ðŸ’½','ðŸ’¾','ðŸ’¿','ðŸ“€','ðŸ“¼','ðŸ“·','ðŸ“¸','ðŸ“¹','ðŸŽ¥','ðŸ“ž','â˜Žï¸','ðŸ“Ÿ','ðŸ“ ','ðŸ“º',
    'ðŸ“»','â±','â²','â°','âŒ›ï¸','â³','ðŸ“¡','ðŸ”‹','ðŸ”Œ','ðŸ’¡','ðŸ”¦','ðŸ’¸',
    'ðŸ’µ','ðŸ’´','ðŸ’¶','ðŸ’·','ðŸ’°','ðŸ’³','ðŸ§¾','ðŸ’Ž','âš–ï¸','ðŸ”§','ðŸ”¨','ðŸ”©','âš™ï¸','ðŸ”«',
    'ðŸ’£','ðŸ”ª','âš”ï¸','ðŸš¬','âš°ï¸','âš±ï¸','ðŸº','ðŸ§­','ðŸ§±','ðŸ”®','ðŸ§¿','ðŸ§¸','ðŸ“¿','ðŸ’ˆ','âš—ï¸','ðŸ”­',
    'ðŸ§°','ðŸ§²','ðŸ§ª','ðŸ§«','ðŸ§¬','ðŸ§¯','ðŸ”¬','ðŸ’Š','ðŸ’‰','ðŸš½','ðŸš°','ðŸš¿','ðŸ›','ðŸ›€','ðŸ›€ðŸ»','ðŸ›€ðŸ¼',
    'ðŸ›€ðŸ½','ðŸ›€ðŸ¾','ðŸ›€ðŸ¿','ðŸ§´','ðŸ§µ','ðŸ§¶','ðŸ§·','ðŸ§¹','ðŸ§º','ðŸ§»','ðŸ§¼','ðŸ§½','ðŸ”‘',
    'ðŸ›Œ','ðŸ§³','ðŸ›’','ðŸŽ','ðŸŽˆ','ðŸŽ','ðŸŽ€','ðŸŽŠ','ðŸŽ‰','ðŸ§¨','ðŸŽŽ','ðŸ®','ðŸŽ','ðŸ§§','âœ‰ï¸','ðŸ“©',
    'ðŸ“¨','ðŸ“§','ðŸ’Œ','ðŸ“¥','ðŸ“¤','ðŸ“¦','ðŸ“ª','ðŸ“«','ðŸ“¬','ðŸ“­','ðŸ“®','ðŸ“¯','ðŸ“œ','ðŸ“ƒ','ðŸ“„','ðŸ“‘','ðŸ“Š',
    'ðŸ“ˆ','ðŸ“‰','ðŸ“†','ðŸ“…','ðŸ“‡','ðŸ“‹','ðŸ“','ðŸ“‚','ðŸ“°','ðŸ““','ðŸ“”','ðŸ“’',
    'ðŸ“•','ðŸ“—','ðŸ“˜','ðŸ“™','ðŸ“š','ðŸ“–','ðŸ”–','ðŸ”—','ðŸ“Ž','ðŸ“','ðŸ“','ðŸ“Œ','ðŸ“','âœ‚ï¸','âœ’ï¸',
    'ðŸ“','âœï¸','ðŸ”','ðŸ”Ž','ðŸ”','ðŸ”','ðŸ”’','ðŸ”“','â¤ï¸','ðŸ§¡','ðŸ’›','ðŸ’š','ðŸ’™','ðŸ’œ','ðŸ–¤',
    'ðŸ’”','â£ï¸','ðŸ’•','ðŸ’ž','ðŸ’“','ðŸ’—','ðŸ’–','ðŸ’˜','ðŸ’','ðŸ’Ÿ',
    'âŒ','â­•ï¸','ðŸ›‘','â›”ï¸','ðŸ“›','ðŸš«',
    'ðŸ’¯','ðŸ’¢','â™¨ï¸','ðŸš·','ðŸš¯','ðŸš³','ðŸš±','ðŸ”ž','ðŸ“µ','ðŸš­','â—ï¸','â•','â“','â”','ðŸ”…','ðŸ”†',
    'ã€½ï¸','âš ï¸','ðŸš¸','ðŸ”±','âšœï¸','ðŸ”°','â™»ï¸','ðŸŽµ','ðŸŽ¶','âž•','âž–','âž—','âœ–ï¸',
    'ðŸ’²','ðŸ’±','âž°','âœ”ï¸',
    'ðŸ”ˆ','ðŸ”‡','ðŸ”‰','ðŸ”Š','ðŸ””','ðŸ”•','ðŸ“£','ðŸ“¢','ðŸ‘â€ðŸ—¨','ðŸ’¬','ðŸ’­','ðŸƒ','ðŸŽ´',
    'ðŸ€„ï¸','ðŸ•','ðŸ•‘','ðŸ•’','ðŸ•“','ðŸ•”','ðŸ••','ðŸ•–','ðŸ•—','ðŸ•˜','ðŸ•™','ðŸ•š','ðŸ•›','ðŸ•œ','ðŸ•','ðŸ•ž','ðŸ•Ÿ',
    'ðŸ• ','ðŸ•¡','ðŸ•¢','ðŸ•£','ðŸ•¤','ðŸ•¥','ðŸ•¦','ðŸ•§','âš½ï¸','ðŸ€','ðŸˆ','âš¾ï¸','ðŸ¥Ž','ðŸ','ðŸ‰','ðŸŽ¾','ðŸ¥',
    'ðŸŽ±','ðŸ“','ðŸ¸','ðŸ¥…','ðŸ’','ðŸ‘','ðŸ¥','ðŸ','â›³ï¸','ðŸ¹','ðŸŽ£','ðŸ¥Š','ðŸ¥‹','ðŸŽ½','ðŸ¥Œ','ðŸ›·',
    'ðŸ›¹','ðŸŽ¿','ðŸ‚','ðŸ‹ï¸â€â™€ï¸','ðŸ‹ðŸ»â€â™€ï¸','ðŸ‹ðŸ¼â€â™€ï¸','ðŸ‹ðŸ½â€â™€ï¸','ðŸ‹ðŸ¾â€â™€ï¸','ðŸ‹ðŸ¿â€â™€ï¸','ðŸ‹ï¸â€â™‚ï¸','ðŸ‹ðŸ»â€â™‚ï¸','ðŸ‹ðŸ¼â€â™‚ï¸','ðŸ‹ðŸ½â€â™‚ï¸','ðŸ‹ðŸ¾â€â™‚ï¸','ðŸ‹ðŸ¿â€â™‚ï¸','ðŸ¤¼â€â™€ï¸',
    'ðŸ¤¼â€â™‚ï¸','ðŸ¤¸â€â™€ï¸','ðŸ¤¸ðŸ»â€â™€ï¸','ðŸ¤¸ðŸ¼â€â™€ï¸','ðŸ¤¸ðŸ½â€â™€ï¸','ðŸ¤¸ðŸ¾â€â™€ï¸','ðŸ¤¸ðŸ¿â€â™€ï¸','ðŸ¤¸â€â™‚ï¸','ðŸ¤¸ðŸ»â€â™‚ï¸','ðŸ¤¸ðŸ¼â€â™‚ï¸','ðŸ¤¸ðŸ½â€â™‚ï¸','ðŸ¤¸ðŸ¾â€â™‚ï¸','ðŸ¤¸ðŸ¿â€â™‚ï¸','â›¹ï¸â€â™€ï¸','â›¹ðŸ»â€â™€ï¸','â›¹ðŸ¼â€â™€ï¸','â›¹ðŸ½â€â™€ï¸',
    'â›¹ðŸ¾â€â™€ï¸','â›¹ðŸ¿â€â™€ï¸','â›¹ï¸â€â™‚ï¸','â›¹ðŸ»â€â™‚ï¸','â›¹ðŸ¼â€â™‚ï¸','â›¹ðŸ½â€â™‚ï¸','â›¹ðŸ¾â€â™‚ï¸','â›¹ðŸ¿â€â™‚ï¸','ðŸ¤º','ðŸ¤¾â€â™€ï¸','ðŸ¤¾ðŸ»â€â™€ï¸','ðŸ¤¾ðŸ¼â€â™€ï¸','ðŸ¤¾ðŸ¾â€â™€ï¸','ðŸ¤¾ðŸ¾â€â™€ï¸','ðŸ¤¾ðŸ¿â€â™€ï¸','ðŸ¤¾â€â™‚ï¸','ðŸ¤¾ðŸ»â€â™‚ï¸','ðŸ¤¾ðŸ¼â€â™‚ï¸',
    'ðŸ¤¾ðŸ½â€â™‚ï¸','ðŸ¤¾ðŸ¾â€â™‚ï¸','ðŸ¤¾ðŸ¿â€â™‚ï¸','ðŸŒï¸â€â™€ï¸','ðŸŒðŸ»â€â™€ï¸','ðŸŒðŸ¼â€â™€ï¸','ðŸŒðŸ½â€â™€ï¸','ðŸŒðŸ¾â€â™€ï¸','ðŸŒðŸ¿â€â™€ï¸','ðŸŒï¸â€â™‚ï¸','ðŸŒðŸ»â€â™‚ï¸','ðŸŒðŸ¼â€â™‚ï¸','ðŸŒðŸ½â€â™‚ï¸','ðŸŒðŸ¾â€â™‚ï¸','ðŸŒðŸ¿â€â™‚ï¸','ðŸ‡','ðŸ‡ðŸ»','ðŸ‡ðŸ¼','ðŸ‡ðŸ½',
    'ðŸ‡ðŸ¾','ðŸ‡ðŸ¿','ðŸ§˜â€â™€ï¸','ðŸ§˜ðŸ»â€â™€ï¸','ðŸ§˜ðŸ¼â€â™€ï¸','ðŸ§˜ðŸ½â€â™€ï¸','ðŸ§˜ðŸ¾â€â™€ï¸','ðŸ§˜ðŸ¿â€â™€ï¸','ðŸ§˜â€â™‚ï¸','ðŸ§˜ðŸ»â€â™‚ï¸','ðŸ§˜ðŸ¼â€â™‚ï¸','ðŸ§˜ðŸ½â€â™‚ï¸','ðŸ§˜ðŸ¾â€â™‚ï¸','ðŸ§˜ðŸ¿â€â™‚ï¸','ðŸ„â€â™€ï¸','ðŸ„ðŸ»â€â™€ï¸','ðŸ„ðŸ¼â€â™€ï¸','ðŸ„ðŸ½â€â™€ï¸',
    'ðŸ„ðŸ¾â€â™€ï¸','ðŸ„ðŸ¿â€â™€ï¸','ðŸ„â€â™‚ï¸','ðŸ„ðŸ»â€â™‚ï¸','ðŸ„ðŸ¼â€â™‚ï¸','ðŸ„ðŸ½â€â™‚ï¸','ðŸ„ðŸ¾â€â™‚ï¸','ðŸ„ðŸ¿â€â™‚ï¸','ðŸŠâ€â™€ï¸','ðŸŠðŸ»â€â™€ï¸','ðŸŠðŸ¼â€â™€ï¸','ðŸŠðŸ½â€â™€ï¸','ðŸŠðŸ¾â€â™€ï¸','ðŸŠðŸ¿â€â™€ï¸','ðŸŠâ€â™‚ï¸','ðŸŠðŸ»â€â™‚ï¸','ðŸŠðŸ¼â€â™‚ï¸',
    'ðŸŠðŸ½â€â™‚ï¸','ðŸŠðŸ¾â€â™‚ï¸','ðŸŠðŸ¿â€â™‚ï¸','ðŸ¤½â€â™€ï¸','ðŸ¤½ðŸ»â€â™€ï¸','ðŸ¤½ðŸ¼â€â™€ï¸','ðŸ¤½ðŸ½â€â™€ï¸','ðŸ¤½ðŸ¾â€â™€ï¸','ðŸ¤½ðŸ¿â€â™€ï¸','ðŸ¤½â€â™‚ï¸','ðŸ¤½ðŸ»â€â™‚ï¸','ðŸ¤½ðŸ¼â€â™‚ï¸','ðŸ¤½ðŸ½â€â™‚ï¸','ðŸ¤½ðŸ¾â€â™‚ï¸','ðŸ¤½ðŸ¿â€â™‚ï¸','ðŸš£â€â™€ï¸','ðŸš£ðŸ»â€â™€ï¸',
    'ðŸš£ðŸ¼â€â™€ï¸','ðŸš£ðŸ½â€â™€ï¸','ðŸš£ðŸ¾â€â™€ï¸','ðŸš£ðŸ¿â€â™€ï¸','ðŸš£â€â™‚ï¸','ðŸš£ðŸ»â€â™‚ï¸','ðŸš£ðŸ¼â€â™‚ï¸','ðŸš£ðŸ½â€â™‚ï¸','ðŸš£ðŸ¾â€â™‚ï¸','ðŸš£ðŸ¿â€â™‚ï¸','ðŸ§—â€â™€ï¸','ðŸ§—ðŸ»â€â™€ï¸','ðŸ§—ðŸ¼â€â™€ï¸','ðŸ§—ðŸ½â€â™€ï¸','ðŸ§—ðŸ¾â€â™€ï¸','ðŸ§—ðŸ¿â€â™€ï¸','ðŸ§—â€â™‚ï¸','ðŸ§—ðŸ»â€â™‚ï¸',
    'ðŸ§—ðŸ¼â€â™‚ï¸','ðŸ§—ðŸ½â€â™‚ï¸','ðŸ§—ðŸ¾â€â™‚ï¸','ðŸ§—ðŸ¿â€â™‚ï¸','ðŸšµâ€â™€ï¸','ðŸšµðŸ»â€â™€ï¸','ðŸšµðŸ¼â€â™€ï¸','ðŸšµðŸ½â€â™€ï¸','ðŸšµðŸ¾â€â™€ï¸','ðŸšµðŸ¿â€â™€ï¸','ðŸšµâ€â™‚ï¸','ðŸšµðŸ»â€â™‚ï¸','ðŸšµðŸ¼â€â™‚ï¸','ðŸšµðŸ½â€â™‚ï¸','ðŸšµðŸ¾â€â™‚ï¸','ðŸšµðŸ¿â€â™‚ï¸','ðŸš´â€â™€ï¸','ðŸš´ðŸ»â€â™€ï¸',
    'ðŸš´ðŸ¼â€â™€ï¸','ðŸš´ðŸ½â€â™€ï¸','ðŸš´ðŸ¾â€â™€ï¸','ðŸš´ðŸ¿â€â™€ï¸','ðŸš´â€â™‚ï¸','ðŸš´ðŸ»â€â™‚ï¸','ðŸš´ðŸ¼â€â™‚ï¸','ðŸš´ðŸ½â€â™‚ï¸','ðŸš´ðŸ¾â€â™‚ï¸','ðŸš´ðŸ¿â€â™‚ï¸','ðŸ†','ðŸ¥‡','ðŸ¥ˆ','ðŸ¥‰','ðŸ…',
    'ðŸŽ«','ðŸŽª','ðŸ¤¹â€â™€ï¸','ðŸ¤¹ðŸ»â€â™€ï¸','ðŸ¤¹ðŸ¼â€â™€ï¸','ðŸ¤¹ðŸ½â€â™€ï¸','ðŸ¤¹ðŸ¾â€â™€ï¸','ðŸ¤¹ðŸ¿â€â™€ï¸','ðŸ¤¹â€â™‚ï¸','ðŸ¤¹ðŸ»â€â™‚ï¸','ðŸ¤¹ðŸ¼â€â™‚ï¸','ðŸ¤¹ðŸ½â€â™‚ï¸','ðŸ¤¹ðŸ¾â€â™‚ï¸','ðŸ¤¹ðŸ¿â€â™‚ï¸','ðŸŽ­','ðŸŽ¨','ðŸŽ¬',
    'ðŸŽ¤','ðŸŽ§','ðŸŽ¼','ðŸŽ¹','ðŸ¥','ðŸŽ·','ðŸŽº','ðŸŽ¸','ðŸŽ»','ðŸŽ²','ðŸ§©','ðŸŽ¯','ðŸŽ³','ðŸŽ®','ðŸŽ°','ðŸš—','ðŸš•',
    'ðŸš™','ðŸšŒ','ðŸšŽ','ðŸš“','ðŸš‘','ðŸš’','ðŸš','ðŸšš','ðŸš›','ðŸšœ','ðŸ›´','ðŸš²','ðŸ›µ','ðŸš¨','ðŸš”','ðŸš',
    'ðŸš˜','ðŸš–','ðŸš¡','ðŸš ','ðŸšŸ','ðŸšƒ','ðŸš‹','ðŸšž','ðŸš','ðŸš„','ðŸš…','ðŸšˆ','ðŸš‚','ðŸš†','ðŸš‡','ðŸšŠ','ðŸš‰','âœˆï¸',
    'ðŸ›«','ðŸ›¬','ðŸ’º','ðŸš€','ðŸ›¸','ðŸš','ðŸ›¶','â›µï¸','ðŸš¤','ðŸš¢','âš“ï¸','â›½ï¸','ðŸš§','ðŸš¦',
    'ðŸš¥','ðŸš','ðŸ—¿','ðŸ—½','ðŸ—¼','ðŸ°','ðŸ¯','ðŸŽ¡','ðŸŽ¢','ðŸŽ ','â›²ï¸','ðŸŒ‹',
    'ðŸ—»','â›ºï¸','ðŸ ','ðŸ¡','ðŸ­','ðŸ¢','ðŸ¬','ðŸ£','ðŸ¤','ðŸ¥','ðŸ¦','ðŸ¨','ðŸª','ðŸ«',
    'ðŸ©','ðŸ’’','â›ªï¸','ðŸ•Œ','ðŸ•','ðŸ•‹','ðŸ—¾','ðŸŽ‘','ðŸŒ…','ðŸŒ„','ðŸŒ ','ðŸŽ‡','ðŸŽ†','ðŸŒ‡',
    'ðŸŒ†','ðŸŒƒ','ðŸŒŒ','ðŸŒ‰','ðŸŒ',
]

const NewTweet = ({replyingTo}) => {
    const [text, setText] = useState('')
    const [isEmojiVisible, setIsEmojiVisible] = useState(false)
    const [toHome, setToHome] = useState(false)
    const authedUser = useSelector(getAuthedUserId())
    const dispatch = useDispatch()

    const currentLength = text.length
    const maxlength = 280

    const handleSubmit = async (e) => {
        e.preventDefault()
        await dispatch(postTweet({
            tweet: { 
            text, 
            replyingTo: !replyingTo ? null : replyingTo
            },
            user: {
                userId: authedUser,
                token: localStorage.getItem('token')
            }
        }))
        //need to add handler for case when tweet did not get added due to some error
        setText('')
        setToHome(replyingTo ? false : true)
        // replyingTo && window.location.reload()
    }
    const addEmoji = (emoji) => {
        setText(state => state + emoji)
    }
    if (toHome === true) {
        return <Redirect to='/' />
      }

    return (
        <React.Fragment>
            <h1 className='header'>{replyingTo ? 'Leave your reply' : 'Compose new tweet'}</h1>
            <form className='new-tweet' onSubmit={handleSubmit}>
                <textarea
                    className='textarea'
                    maxLength={maxlength}
                    placeholder={replyingTo ? 'What are your thoughts?' : "What's on your mind?"}
                    value={text}
                    onChange={(e)=>setText(e.target.value)}
                >
                </textarea>
                <div className='flex-space-between'>
                    <div className='clickable hover-blue icon'>
                        <MdSentimentSatisfied size={30} onClick={()=>setIsEmojiVisible(state=>!state)}/>
                        {isEmojiVisible
                            ? <IoIosArrowUp size={30} onClick={()=>setIsEmojiVisible(state=>!state)}/>
                            : <IoIosArrowDown size={30} onClick={()=>setIsEmojiVisible(state=>!state)}/>
                        }
                    </div>
                    <div className='meta-text align-right '>{maxlength-currentLength} characters left</div>
                </div>
                {isEmojiVisible
                    ?
                    <div className='emoji-container'>
                        {emoji.map(emoji => <Emoji symbol={emoji} addEmoji={addEmoji}/>)}
                    </div>
                    : null
                }
                <button
                    type='submit'
                    disabled={text === ''}
                    className='btn'
                >Post
                </button>
            </form>
        </React.Fragment>
    )
}

export default NewTweet